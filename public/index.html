<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <title>C.H AI TOWN</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="/style.css" />

    <!-- 🚀 必須加這行：Phaser 遊戲引擎 -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.0/dist/phaser.min.js"></script>
  </head>

  <body>
    <div class="page">
      <!-- Top Bar -->
      <header class="topbar">
        <div class="brand">
          <div class="brand-logo">C.H</div>
          <div class="brand-text">
            <div class="brand-title">AI TOWN</div>
            <div class="brand-sub">洗衣 · 洗鞋 · 精品包 · 外送小鎮</div>
          </div>
        </div>
      </header>

      <main class="layout">
        <!-- ====================== -->
        <!-- 左側：小鎮遊戲區 -->
        <!-- ====================== -->
        <section class="town-panel">
          <!-- 🚀 game.js 在找的掛載點：id="game-root" -->
          <div id="game-root" class="game-root"></div>

          <div class="town-hint">
            💡 操作提示：鍵盤方向鍵可以移動主角；
            手機點擊小鎮任一位置，圓形角色會走過去。
          </div>
        </section>

        <!-- ====================== -->
        <!-- 右側：AI 對話區 -->
        <!-- ====================== -->
        <section class="chat-panel">
          <!-- 標頭：角色顯示 -->
          <div class="role-header">
            <div class="role-info">
              <div class="role-label">當前角色</div>
              <div id="current-role-name" class="role-name">C.H 客服</div>
            </div>
            <div class="role-badge" id="role-badge">
              對話 · 介紹服務 · 回覆一般問題
            </div>
          </div>

          <!-- 角色 tabs（由 app.js 動態生成） -->
          <div class="role-tabs" id="role-tabs"></div>

          <!-- 聊天內容 -->
          <div class="chat-box" id="chat-box"></div>

          <!-- 範例問題 -->
          <div class="quick-questions" id="quick-questions"></div>

          <!-- 輸入區 -->
          <form id="chat-form" class="input-area">
            <input
              id="user-input"
              type="text"
              placeholder="輸入問題，例如：皮衣的油漬可以洗掉嗎？"
              autocomplete="off"
            />
            <button type="submit">送出</button>
          </form>
        </section>
      </main>
    </div>

    <!-- 🚀 app.js 控制右側角色聊天 -->
    <script src="/app.js"></script>

    <!-- 🚀 game.js 啟動左側小鎮遊戲 -->
    <script src="/game.js"></script>
  </body>
</html>
